/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1,15,39],{473:function(t,e,o){var content=o(476);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(14).default)("b134ce3e",content,!0,{sourceMap:!1})},474:function(t,e,o){"use strict";o.r(e);var n={components:{CloIcon:o(26).default},data:function(){return{}}},r=(o(475),o(2)),component=Object(r.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"LoadingAnimation"},[e("CloIcon",{attrs:{symbol:"spinner"}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CloIcon:o(26).default})},475:function(t,e,o){"use strict";o(473)},476:function(t,e,o){var n=o(13)(!1);n.push([t.i,"@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.LoadingAnimation{position:absolute;background-color:#fff;top:0;left:0;right:0;bottom:0;padding:0}.LoadingAnimation--inLightbox{background-color:transparent}.LoadingAnimation--inLightbox .Icon{margin:-18px auto 0;fill:#757575}.LoadingAnimation--inLightbox .Icon,.LoadingAnimation--modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.LoadingAnimation--modal{right:auto;bottom:auto;padding:1rem;border-radius:.25rem;transition:opacity 1s ease-out}[dir=rtl] .LoadingAnimation--modal{left:auto;right:0}.LoadingAnimation--modal .Icon{margin:1rem auto!important}.LoadingAnimation--overlay{background-color:hsla(0,0%,100%,.8)}.LoadingAnimation--showMore{position:relative;background-color:transparent}.LoadingAnimation--stacked{text-align:center;background-color:hsla(0,0%,100%,.8);padding:1rem;z-index:100}.LoadingAnimation--stacked .Icon{margin-top:10%;margin-bottom:10%}.no-js .LoadingAnimation{display:none}.LoadingAnimation .Icon{display:block;width:2rem;height:2rem;fill:#228000;margin:2rem auto;-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}.LoadingAnimation--small{position:relative;display:inline;background-color:transparent}.LoadingAnimation--small .Icon{width:1rem;height:1rem;display:inline;margin:0}.LoadingAnimation--inTypeahead{background:none;right:.5rem;top:.5rem;bottom:auto;left:auto}[dir=rtl] .LoadingAnimation--inTypeahead{left:.5rem;right:auto}.LoadingAnimation--inTypeahead .Icon{margin:0;width:1.5rem;height:1.5rem}.LoadingAnimation--basic{position:relative;background-color:transparent}.LoadingAnimation[aria-hidden=true]{visibility:hidden}",""]),t.exports=n},525:function(t,e,o){"use strict";o.r(e);o(470),o(15),o(42),o(41),o(76);var n=o(474),r=o(510),l=o(26),c=o(621),d={components:{CloLoadingAnimation:n.default,CloMediaControls:r.default,CloIcon:l.default,CloAnnotations:c.default},data:function(){return{annotations:[],isActive:!1,showSpectrogramPlayer:!1,readyToPlay:!1,spectHasLoaded:!1,playing:!1,position:0,posterOffset:!1,time:0,duration:0,durationText:"",lastUpdate:0,totalWidth:0,frameWidth:0,playerWidth:0,ticks:[],freqs:[2,4,6,8,10],fixedCursor:!0,frameOffset:0,cursorPosition:0,progressTime:0,progressWidth:0,progressPercent:0,mouseOverSpectrogramPlayer:!1,cursorSelectPosition:0,timelineLeft:0,timelineWidth:0,timelineRight:0,timelineImageWidth:0,pixelsPerSecond:0,spectWidth:0,zoomLevel:1,speedSlider:100,speed:1,startCursorPosition:0,showStartCursor:!1,volumeSlider:1,volumeToRestore:1,showVolume:!1,showLoading:!1,stillProcessing:!1,mediaMissing:!1,specimenBaseUrl:"https://macaulaylibrary.org/asset/"}},props:{assetId:{},citationUrl:{default:!1},citationName:{default:null,type:String},advanced:{default:!1,type:Boolean},timeline:{default:!1,type:Boolean},zoom:{default:!1,type:Boolean},assetRestricted:{default:!1,type:Boolean},user:{default:null,type:String},location:{default:null,type:String},date:{default:null,type:String},title:{default:null,type:String},autoplay:{default:!1,type:Boolean},size:{default:"",type:String},mediaDownloadUrl:{default:"https://cdn.download.ams.birds.cornell.edu/api/v1/asset/",type:String},annotation:{type:Boolean,default:!1},enableAnnotating:{type:Boolean,default:!1},initialAnnotations:{type:Array,default:function(){return[]}},activeAnnotation:{type:Object,default:function(){return{}}},alternateHandles:{type:Boolean,default:!1},skipToTime:{type:Number,default:0},skipBackIncrement:{type:Number,default:0},skipAheadIncrement:{type:Number,default:0},togglePlayIncrement:{type:Number,default:0}},watch:{skipToTime:function(t){this.isActive&&(this.time=t,this.$refs.audio.currentTime=t,this.setTimeAndPosition(),this.updateProgress())},skipBackIncrement:function(){if(this.isActive){var t=this.time,e=t-2>0?t-2:0;this.animateSkip(t,e)}},skipAheadIncrement:function(){if(this.isActive){var t=this.time,e=t+2<this.duration?t+2:this.duration;this.animateSkip(t,e)}},togglePlayIncrement:function(){this.togglePlay()}},computed:{poster:function(){return this.mediaDownloadUrl+this.assetId+"/poster"},media:function(){return this.mediaDownloadUrl+this.assetId+"/audio"},spectrogram:function(){return this.mediaDownloadUrl+this.assetId+"/spectrogram_small"},specimenUrl:function(){return!this.citationUrl&&!this.assetRestricted&&this.specimenBaseUrl+this.assetId},frameHeight:function(){switch(this.size){case"compact":case"sm":return 184;case"xs":return 126;default:return 236}},originalPixelsPerSecond:function(){switch(this.size){case"compact":case"sm":return 190.9;case"xs":return 125;default:return 250}},messages:function(){return{mute:"mute",volume:"volume",seek:"seek",play:"play",zoom:"zoom",errorNoSpectrogram:"Sorry, there was an error loading this file. Please check later.",errorNoAudio:"We are still processing this file. Please check later."}},classes:function(){var t=[],e="SpectrogramPlayer--";return this.size.length&&t.push(e+this.size),this.annotation&&t.push(e+"annotation"),t.join(" ")}},beforeMount:function(){"compact"===this.size&&this.size},mounted:function(){document.addEventListener("lichen:resize",this.handleResize),document.addEventListener("lichen:spect-togglePlay",this.handleTogglePlayEvent),document.addEventListener("lichen:spect-pause",this.pause),document.addEventListener("lichen:spect-destroy",this.destroyPlayer)},beforeDestroy:function(){this.removeListeners()},methods:{removeListeners:function(){document.removeEventListener("lichen:resize",this.handleResize),document.removeEventListener("lichen:spect-togglePlay",this.handleTogglePlayEvent),document.removeEventListener("lichen:spect-pause",this.pause),document.removeEventListener("lichen:spect-destroy",this.removeListeners)},destroyPlayer:function(t){t.detail.assetId===parseInt(this.assetId)&&(this.playing&&this.pause(),this.isActive=!1),this.removeListeners()},handleTogglePlayEvent:function(t){t.detail.assetId===parseInt(this.assetId)&&this.togglePlay()},setVolume:function(t){this.$refs.audio.volume=t,this.volumeToRestore=t},togglePlay:function(){this.isActive?this.$refs.audio&&(this.playing?this.$refs.audio.pause():(this.showStartCursor&&this.advanced&&this.startFromCursor(),this.$refs.audio.play())):this.duration>0&&(this.fakePlay(),this.showLoading=!0,this.showSpectrogramPlayer=!0)},isPlaying:function(){this.playing=!0,this.runTimer(!0)},fakePlay:function(){var t=this;if((-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("Firefox"))&&-1===navigator.userAgent.indexOf("Chrome")&&this.$refs.audio){var e=this.$refs.audio.play();void 0!==e&&e.catch((function(t){})).then((function(){t.$refs.audio.pause(),t.$refs.audio.currentTime=0}))}},isPaused:function(){this.playing=!1},pause:function(){this.$refs.audio&&this.$refs.audio.pause(),this.playing=!1},runTimer:function(t){var e=this;this.lastUpdate=performance.now(),requestAnimationFrame((function t(){var o=performance.now()-e.lastUpdate;e.time+=o/1e3,e.setTimeAndPosition(),e.updateProgress(),e.lastUpdate=performance.now(),e.playing&&requestAnimationFrame(t)}))},setTimeAndPosition:function(){this.position=this.frameWidth/2-this.time*this.pixelsPerSecond,this.$refs.slider&&(this.$refs.slider.style.transform="translateX("+this.position+"px)")},updateTimelineWidth:function(){this.timelineImageWidth=this.playerWidth;var t=65500/this.originalPixelsPerSecond;this.duration>t&&(this.timelineImageWidth=t/this.duration*this.playerWidth),this.timelineWidth=Math.pow(this.playerWidth,2)/this.totalWidth},updateProgress:function(){this.progressPercent=100*this.time/this.duration,this.timeline&&(this.progressWidth=this.time/this.duration*this.playerWidth,this.fixedCursor?this.timelineLeft=this.progressWidth-this.timelineWidth/2:this.timelineLeft=this.frameWidth*(-this.position/this.totalWidth),this.timelineRight=this.timelineLeft+this.timelineWidth)},formatTime:function(time){return Math.floor(time/60)+":"+("0"+Math.floor(time%60)).slice(-2)},timeUpdated:function(t){this.$refs.audio&&(this.time=this.$refs.audio.currentTime)},loadedMetadata:function(t){if(this.playerWidth=this.$el.clientWidth,this.frameWidth=this.playerWidth-16,this.$refs.audio){var e=this.$refs.audio.duration;this.duration=e,this.durationText=this.formatTime(e),this.$emit("spectrogram-duration",e)}this.cursorPosition=this.playerWidth/2,this.renderFrequencies(),this.autoplay&&(this.showLoading=!0,this.showSpectrogramPlayer=!0,this.fakePlay()),this.stillProcessing&&(this.isActive=!0,this.showLoading=!1),this.annotation&&(this.showLoading=!0,this.showSpectrogramPlayer=!0)},renderFrequencies:function(){var t=this,e=this.freqs;this.freqs=e.reverse().map((function(o,n){return{label:o,position:n*((t.frameHeight-16)/e.length)+16}}))},spectLoaded:function(t,img){var e=this;this.spectHasLoaded=!0,this.isActive=!0,this.originalSpectrogramPlayerWidth=t.target.width,this.showLoading=!1,this.setupSpectrogramPlayer(),this.$nextTick((function(){e.annotation?(e.currentTime=0,e.setTimeAndPosition()):e.startPlayIfReady()}))},startPlayIfReady:function(){if(this.readyToPlay&&this.spectHasLoaded&&this.$refs.audio){var t,e=this.$refs.audio.play();void 0!==e&&e.catch((function(t){})).then((function(){})),this.showLoading=!1;var o={assetId:parseInt(this.assetId),origin:window.location.origin,pathname:window.location.pathname};"function"==typeof window.CustomEvent?t=new CustomEvent("lichen:audio-play",{detail:o}):(t=document.createEvent("CustomEvent")).initCustomEvent("lichen:audio-play",!0,!0,o),document.dispatchEvent(t)}},canPlayThrough:function(){this.readyToPlay=!0,this.startPlayIfReady()},setupSpectrogramPlayer:function(){this.pixelsPerSecond=this.originalPixelsPerSecond*this.zoomLevel,this.ticks=[];for(var t=0;t<=this.duration;t+=.25)this.ticks.push({time:t,label:this.formatTime(t),position:t*this.pixelsPerSecond});var e=65500/this.originalPixelsPerSecond;this.duration>e?this.totalWidth=this.originalSpectrogramPlayerWidth*this.zoomLevel:this.totalWidth=this.duration*this.pixelsPerSecond,this.spectWidth=this.totalWidth,this.updateTimelineWidth(),this.fixedCursor&&(this.cursorPosition=this.playerWidth/2)},handleResize:function(t){var e=this;requestAnimationFrame((function(){e.playerWidth=e.$el.clientWidth,e.frameWidth=e.playerWidth-16,e.updateTimelineWidth(),e.setTimeAndPosition(),e.fixedCursor&&(e.cursorPosition=e.playerWidth/2)}))},toggleScroll:function(){this.fixedCursor=!this.fixedCursor,this.fixedCursor&&(this.cursorPosition=this.playerWidth/2)},toggleTimeline:function(){this.timeline=!this.timeline},setTime:function(t){var e=this;requestAnimationFrame((function(){e.time=parseFloat(t),e.$refs.audio.currentTime=e.time,e.setTimeAndPosition(),e.updateProgress()}))},setPosition:function(t){var e=this;requestAnimationFrame((function(){e.time=parseFloat(t),e.fixedCursor||(e.cursorPosition=e.frameWidth),e.setTimeAndPosition(),e.updateProgress()}))},setZoom:function(t){var e=this;requestAnimationFrame((function(){t=parseInt(t),e.zoomLevel=t<50?Math.sqrt(t/50):2*t/100,e.isActive&&(e.setupSpectrogramPlayer(),e.setTimeAndPosition(),e.updateProgress())}))},setSpeed:function(t){this.speed=Math.sqrt(t.target.value/100),this.isActive&&(this.$refs.audio.playbackRate=this.speed,this.setupSpectrogramPlayer())},toggleVolume:function(){0==this.volumeSlider?0==this.volumeToRestore?this.volumeSlider=1:this.volumeSlider=this.volumeToRestore:this.volumeSlider=0,this.setVolume()},clickOnSpectrogramPlayer:function(t){if(this.advanced)if(this.showStartCursor)this.showStartCursor=!1;else{var rect=this.$el.getBoundingClientRect(),e=t.clientX-rect.left+window.pageXOffset-this.position-11;this.startCursorPosition=e,this.showStartCursor||(this.showStartCursor=!0)}this.annotation||(console.log("play"),this.togglePlay())},mouseEnterSpectrogramPlayer:function(t){this.advanced&&(this.mouseOverSpectrogramPlayer=!0)},mouseLeaveSpectrogramPlayer:function(t){this.advanced&&(this.mouseOverSpectrogramPlayer=!1)},positionCursorSelect:function(t){var e=this;this.advanced&&requestAnimationFrame((function(){e.mouseOverSpectrogramPlayer=!0;var rect=e.$el.getBoundingClientRect();e.cursorSelectPosition=t.clientX-rect.left+window.pageXOffset-2}))},saveAnnotation:function(t){this.$emit("annotation-changed",t)},startFromCursor:function(){var t=this.startCursorPosition/this.totalWidth;this.time=this.duration*t,this.$refs.audio.currentTime=this.time},animateSkip:function(t,e){var o=this,n=this.playing;n&&this.pause();var r=0;!function n(){var p=(r+=1/60)/.3,l=-.5*(Math.cos(Math.PI*p)-1);p<1?(requestAnimationFrame(n),o.$refs.audio.currentTime=t+(e-t)*l):o.$refs.audio.currentTime=e,o.setTimeAndPosition(),o.updateProgress()}(),n&&this.togglePlay()}}},h=(o(905),o(2)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"SpectrogramPlayer",class:t.classes,attrs:{dir:"ltr",tabindex:"0"},on:{"!keydown":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"space",32,e.key,[" ","Spacebar"])?null:(e.preventDefault(),e.stopPropagation(),t.togglePlay.apply(null,arguments))}}},[o("div",{staticClass:"SpectrogramPlayer-frame",attrs:{"aria-hidden":"true"},on:{"!click":function(e){e.preventDefault(),!t.annotation&&t.togglePlay()}}},[t.isActive||t.autoplay||t.stillProcessing?t._e():o("img",{staticClass:"SpectrogramPlayer-poster",class:{offset:t.posterOffset},attrs:{role:"presentation",alt:"ML"+t.assetId+" visualization",src:t.poster},on:{click:t.togglePlay,error:function(e){t.mediaMissing=!0}}}),t._v(" "),t.showLoading?o("div",{staticClass:"LoadingAnimation"},[o("CloIcon",{attrs:{symbol:"spinner"}})],1):t._e(),t._v(" "),t.stillProcessing&&!t.mediaMissing?o("div",{staticClass:"SpectrogramPlayer-errorMessage"},[o("CloIcon",{attrs:{symbol:"timer"}}),t._v("\n\t\t\t"+t._s(t.messages.errorNoSpectrogram)+"\n\t\t")],1):t._e(),t._v(" "),t.mediaMissing?o("div",{staticClass:"SpectrogramPlayer-errorMessage"},[o("CloIcon",{attrs:{symbol:"timer"}}),t._v("\n\t\t\t"+t._s(t.messages.errorNoAudio)+"\n\t\t")],1):t._e(),t._v(" "),t.showSpectrogramPlayer?o("div",{ref:"slider",staticClass:"SpectrogramPlayer-slider"},[o("div",{ref:"spectContainer",staticClass:"SpectrogramPlayer-spectContainer",style:{width:t.spectWidth+"px"}},[o("img",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"SpectrogramPlayer-spect",attrs:{role:"presentation",alt:"ML"+t.assetId+" visualization",src:t.spectrogram},on:{load:t.spectLoaded,mouseenter:t.mouseEnterSpectrogramPlayer,mouseleave:t.mouseLeaveSpectrogramPlayer,mousemove:t.positionCursorSelect}}),t._v(" "),t.annotation?o("CloAnnotations",{attrs:{enableAnnotating:t.enableAnnotating,initialAnnotations:t.initialAnnotations,activeAnnotation:t.activeAnnotation,alternateHandles:t.alternateHandles},on:{"annotation-changed":t.saveAnnotation}}):t._e()],1),t._v(" "),o("div",{staticClass:"SpectrogramPlayer-xAxis",style:{width:t.totalWidth+"px"},attrs:{"aria-hidden":"true"}},t._l(t.ticks,(function(e,n){return o("span",{key:e.time,staticClass:"SpectrogramPlayer-tick",style:{left:e.position+"px"}},[n%4?t._e():o("span",[t._v(t._s(e.label))])])})),0),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showStartCursor,expression:"showStartCursor"}],staticClass:"SpectrogramPlayer-startCursor",style:{left:t.startCursorPosition+"px"}})]):t._e(),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"SpectrogramPlayer-yAxis",attrs:{"aria-hidden":"true"}},[t._l(t.freqs,(function(e){return o("span",{key:e.time,staticClass:"SpectrogramPlayer-tick",style:{top:e.position+"px"}},[t._v("\n\t\t\t\t"+t._s(e.label)+"\n\t\t\t")])})),t._v(" "),o("span",{staticClass:"SpectrogramPlayer-khz"},[t._v("kHz")])],2),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive&&!t.stillProcessing,expression:"isActive && !stillProcessing"}],staticClass:"SpectrogramPlayer-cursor",style:{left:t.cursorPosition+"px"},attrs:{"aria-hidden":"true"}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.mouseOverSpectrogramPlayer,expression:"mouseOverSpectrogramPlayer"}],staticClass:"SpectrogramPlayer-cursorSelect",style:{left:t.cursorSelectPosition+"px"},attrs:{"aria-hidden":"true"}})]),t._v(" "),t.timeline?o("div",{staticClass:"SpectrogramPlayer-timeline",attrs:{"aria-hidden":"true"}},[t.showSpectrogramPlayer?o("img",{staticClass:"SpectrogramPlayer-timelineImage",style:{width:t.timelineImageWidth+"px"},attrs:{src:t.spectrogram,role:"presentation",alt:"ML"+t.assetId+" visualization"}}):t._e(),t._v(" "),t.showSpectrogramPlayer?o("div",{staticClass:"SpectrogramPlayer-timelineBefore",style:{width:t.timelineLeft+"px"}}):t._e(),t._v(" "),t.showSpectrogramPlayer?o("div",{staticClass:"SpectrogramPlayer-timelineNow",style:{left:t.timelineLeft+"px",width:t.timelineWidth+"px"}}):t._e(),t._v(" "),t.showSpectrogramPlayer?o("div",{staticClass:"SpectrogramPlayer-timelineAfter",style:{left:t.timelineRight+"px"}}):t._e()]):t._e(),t._v(" "),o("audio",{ref:"audio",attrs:{"aria-label":"ML"+t.assetId,src:t.media,preload:"metadata"},on:{timeupdate:t.timeUpdated,loadedmetadata:t.loadedMetadata,playing:t.isPlaying,pause:t.isPaused,"~canplaythrough":function(e){return t.canPlayThrough.apply(null,arguments)},error:function(e){t.mediaMissing=!0}}}),t._v(" "),o("CloMediaControls",{attrs:{playing:t.playing,messages:{seek:"seek",play:"play",fullscreen:"fullscreen",volume:"volume",mute:"mute"},showVolume:!0,citationUrl:t.citationUrl,citationName:t.citationName,title:t.title,user:t.user,date:t.date,location:t.location,assetId:t.assetId,progressPercent:t.progressPercent,duration:t.duration,currentTime:t.time,timeline:t.timeline,zoom:t.zoom},on:{togglePlay:t.togglePlay,setPosition:t.setPosition,setVolume:t.setVolume,setTime:t.setTime,toggleVolume:t.toggleVolume,"set-zoom":t.setZoom}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CloIcon:o(26).default,CloAnnotations:o(621).default,CloMediaControls:o(510).default})},549:function(t,e,o){var content=o(607);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(14).default)("d9732ba4",content,!0,{sourceMap:!1})},606:function(t,e,o){"use strict";o(549)},607:function(t,e,o){var n=o(13)(!1);n.push([t.i,'@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.Annotations{position:absolute;height:100%;width:100%;top:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:0}.Annotations .Annotation-crosshair--x{position:absolute;left:0;height:1px;width:100%;background-color:hsla(0,0%,50.2%,.4);pointer-events:none}.Annotations .Annotation-crosshair--y{position:absolute;top:0;width:1px;height:100%;background-color:hsla(0,0%,50.2%,.4);pointer-events:none}.Annotations .Annotation{position:absolute;border:2px solid #ff7f00;color:#ff7f00;pointer-events:none}.Annotations .Annotation .Annotation-handle{border:1px solid #212121;background-color:#fff;height:12px;width:12px;position:absolute;pointer-events:all;z-index:1}.Annotations .Annotation .Annotation-handle--topLeft{left:-6px;top:-6px;cursor:nwse-resize}.Annotations .Annotation .Annotation-handle--topRight{right:-6px;top:-6px;cursor:nesw-resize}.Annotations .Annotation .Annotation-handle--bottomLeft{left:-6px;bottom:-6px;cursor:nesw-resize}.Annotations .Annotation .Annotation-handle--bottomRight{right:-6px;bottom:-6px;cursor:nwse-resize}.Annotations .Annotation .Annotation-handle--middle{top:50%;left:50%;transform:translate(-50%,-50%);cursor:move;height:14px;width:14px;font-size:10px;line-height:1;text-align:center;font-weight:700;color:#232323}.Annotations .Annotation.deleted,.Annotations .Annotation.hidden{display:none}.Annotations .Annotation-label{position:absolute;bottom:calc(100% + 2px);left:-2px;pointer-events:none;padding:1px .25rem 2px;font-size:.63rem;line-height:1.19;background-color:hsla(0,0%,100%,.8);border-top-left-radius:3px;border-top-right-radius:3px;border:1px solid #757575;border-bottom:0;white-space:nowrap;color:#232323;z-index:1}.Annotations--alternateHandles .Annotation .Annotation-handle{border:0;background-color:transparent}.Annotations--alternateHandles .Annotation .Annotation-handle--topLeft:after{content:"";position:absolute;height:12px;width:12px;top:2px;left:2px;border-left:2px solid;border-top:2px solid}.Annotations--alternateHandles .Annotation .Annotation-handle--topRight:after{content:"";position:absolute;height:12px;width:12px;top:2px;right:2px;border-right:2px solid;border-top:2px solid}.Annotations--alternateHandles .Annotation .Annotation-handle--bottomLeft:after{content:"";position:absolute;height:12px;width:12px;bottom:2px;left:2px;border-left:2px solid;border-bottom:2px solid}.Annotations--alternateHandles .Annotation .Annotation-handle--bottomRight:after{content:"";position:absolute;height:12px;width:12px;bottom:2px;right:2px;border-right:2px solid;border-bottom:2px solid}.Annotations--alternateHandles .Annotation-label{pointer-events:all;cursor:move}',""]),t.exports=n},621:function(t,e,o){"use strict";o.r(e);o(44),o(37),o(63);var n={name:"CloAnnotations",data:function(){return{initialClick:{x:null,y:null},crosshair:{show:!1,x:0,y:0},mouseHeldDown:!1,handleHeldDown:null,annotations:[],annotationToSave:null}},props:{initialAnnotations:{type:Array,default:function(){return[]}},activeAnnotation:{type:Object,default:function(){return{}}},enableAnnotating:{type:Boolean,default:!1},showLabels:{type:Boolean,default:!1},alternateHandles:{type:Boolean,default:!1}},mounted:function(){this.annotations=this.initialAnnotations,document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("touchmove",this.mouseMove),document.addEventListener("touchend",this.mouseUp),document.addEventListener("touchcancel",this.mouseUp)},beforeDestroy:function(){document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("touchmove",this.mouseMove),document.removeEventListener("touchend",this.mouseUp),document.removeEventListener("touchcancel",this.mouseUp)},methods:{mouseEnter:function(t){this.enableAnnotating&&(this.crosshair.show=!0)},mouseLeave:function(t){this.enableAnnotating&&(this.crosshair.show=!1)},mouseDown:function(t){if(this.enableAnnotating&&(0===t.which||1===t.which)){t.preventDefault();var e=t.target.getAttribute("data-annotation-handle");e?(this.mouseHeldDown=!1,this.handleHeldDown=e):(this.annotations.push(Object.assign({style:{},new:!0,edited:!1,hidden:!1,deleted:!1},this.activeAnnotation)),this.mouseHeldDown=!0);var o=this.$el.getBoundingClientRect(),n=null,r=null;0===t.which?(n=(t.touches[0].clientX-o.left)/o.width,r=(t.touches[0].clientY-o.top)/o.height):(n=(t.clientX-o.left)/o.width,r=(t.clientY-o.top)/o.height),r>.99&&(r=1),r<.01&&(r=0),this.initialClick.x=n,this.initialClick.y=r,this.$forceUpdate()}},mouseUp:function(t){!this.enableAnnotating||!this.mouseHeldDown&&!this.handleHeldDown||0!==t.which&&1!==t.which||(t.preventDefault(),this.mouseHeldDown=!1,this.handleHeldDown=!1,this.annotations=this.annotations.filter((function(t){return t.style.hasOwnProperty("left")})),this.$forceUpdate(),this.saveAnnotations())},mouseMove:function(t){if(this.enableAnnotating){var e=this.$el.getBoundingClientRect(),o=null,n=null;if("touchmove"===t.type?(o=(t.touches[0].clientX-e.left)/e.width,n=(t.touches[0].clientY-e.top)/e.height):(o=(t.clientX-e.left)/e.width,n=(t.clientY-e.top)/e.height),this.crosshair.x=n,this.crosshair.y=o,0===t.which||1===t.which)if(this.mouseHeldDown){var i=this.annotations.length-1;o>this.initialClick.x?(this.annotations[i].style.left=this.initialClick.x,this.annotations[i].style.right=1-o):(this.annotations[i].style.left=o,this.annotations[i].style.right=1-this.initialClick.x),n>this.initialClick.y?(this.annotations[i].style.top=this.initialClick.y,this.annotations[i].style.bottom=1-n):(this.annotations[i].style.top=n,this.annotations[i].style.bottom=1-this.initialClick.y),this.annotations[i].style.left=this.constrainBounds(this.annotations[i].style.left),this.annotations[i].style.right=this.constrainBounds(this.annotations[i].style.right),this.annotations[i].style.top=this.constrainBounds(this.annotations[i].style.top),this.annotations[i].style.bottom=this.constrainBounds(this.annotations[i].style.bottom),this.annotationToSave=i}else if(this.handleHeldDown){var r=this.handleHeldDown.split("-"),l=parseInt(r[0]),c=r[1],d=this.annotations[l].style.left+(o-this.initialClick.x),h=this.annotations[l].style.right-(o-this.initialClick.x),m=this.annotations[l].style.top+(n-this.initialClick.y),f=this.annotations[l].style.bottom-(n-this.initialClick.y);switch(c){case"middle":case"label":h>0&&(this.annotations[l].style.left=this.constrainBounds(d)),d>0&&(this.annotations[l].style.right=this.constrainBounds(h)),f>0&&(this.annotations[l].style.top=this.constrainBounds(m)),m>0&&(this.annotations[l].style.bottom=this.constrainBounds(f));break;case"topLeft":this.annotations[l].style.left=this.constrainBounds(d),this.annotations[l].style.top=this.constrainBounds(m);break;case"topRight":this.annotations[l].style.right=this.constrainBounds(h),this.annotations[l].style.top=this.constrainBounds(m);break;case"bottomLeft":this.annotations[l].style.left=this.constrainBounds(d),this.annotations[l].style.bottom=this.constrainBounds(f);break;case"bottomRight":this.annotations[l].style.right=this.constrainBounds(h),this.annotations[l].style.bottom=this.constrainBounds(f)}this.initialClick.x=o,this.initialClick.y=n,this.annotations[l].edited=!0,this.annotationToSave=l}this.$forceUpdate()}},constrainBounds:function(t){return t>1?1:t<0?0:t},rightClick:function(t){if(this.enableAnnotating&&this.annotations.length&&3===t.which){t.preventDefault();var e=this.annotations.length,o=JSON.parse(JSON.stringify(this.annotations[e-1]));o.hasOwnProperty("id")&&delete o.id,o.hasOwnProperty("annotationId")&&delete o.annotationId,o.new=!0,o.edited=!1,o.deleted=!1,o.hidden=!1,this.annotations.push(o);var n=this.$el.getBoundingClientRect(),r=this.annotations[e].style.left-(t.clientX-n.left)/n.width;this.annotations[e].style.left-=r,this.annotations[e].style.right+=r,this.annotationToSave=e,this.saveAnnotations()}},saveAnnotations:function(){this.$el.focus(),this.$emit("annotation-changed",{index:this.annotationToSave,data:this.annotations})}}},r=(o(606),o(2)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Annotations",class:{"Annotations--alternateHandles":t.alternateHandles},attrs:{tabindex:"-1"},on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave,mousedown:t.mouseDown,touchstart:t.mouseDown,contextmenu:t.rightClick}},[t._l(t.annotations,(function(e,n){return o("div",{key:n,staticClass:"Annotation",class:{hidden:e.deleted||e.hidden},style:{top:100*e.style.top+"%",left:100*e.style.left+"%",bottom:100*e.style.bottom+"%",right:100*e.style.right+"%",borderColor:e.color,color:e.color}},[t.showLabels||t.alternateHandles?o("div",{staticClass:"Annotation-label",attrs:{"data-annotation-handle":n+"-label"},on:{mousedown:t.mouseDown,touchstart:t.mouseDown}},[t._v("\n\t\t\t"+t._s(n+1)+": "+t._s(e.label)+"\n\t\t")]):t._e(),t._v(" "),t.enableAnnotating?[o("div",{staticClass:"Annotation-handle Annotation-handle--topLeft",attrs:{"data-annotation-handle":n+"-topLeft"},on:{mousedown:t.mouseDown,touchstart:t.mouseDown}}),t._v(" "),o("div",{staticClass:"Annotation-handle Annotation-handle--topRight",attrs:{"data-annotation-handle":n+"-topRight"},on:{mousedown:t.mouseDown,touchstart:t.mouseDown}}),t._v(" "),o("div",{staticClass:"Annotation-handle Annotation-handle--bottomLeft",attrs:{"data-annotation-handle":n+"-bottomLeft"},on:{mousedown:t.mouseDown,touchstart:t.mouseDown}}),t._v(" "),o("div",{staticClass:"Annotation-handle Annotation-handle--bottomRight",attrs:{"data-annotation-handle":n+"-bottomRight"},on:{mousedown:t.mouseDown,touchstart:t.mouseDown}}),t._v(" "),t.alternateHandles?t._e():o("div",{staticClass:"Annotation-handle Annotation-handle--middle",attrs:{"data-annotation-handle":n+"-middle"},on:{mousedown:t.mouseDown,touchstart:t.mouseDown}},[t._v("\n\t\t\t\t"+t._s(n+1)+"\n\t\t\t")])]:t._e()],2)})),t._v(" "),t.crosshair.show?o("div",{staticClass:"Annotation-crosshair--x",style:{top:100*t.crosshair.x+"%"}}):t._e(),t._v(" "),t.crosshair.show?o("div",{staticClass:"Annotation-crosshair--y",style:{left:100*t.crosshair.y+"%"}}):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},704:function(t,e,o){var content=o(906);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(14).default)("0a7fbdb8",content,!0,{sourceMap:!1})},905:function(t,e,o){"use strict";o(704)},906:function(t,e,o){var n=o(13)(!1);n.push([t.i,'@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.SpectrogramPlayer{text-align:left;overflow:hidden;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.SpectrogramPlayer .SpectrogramPlayer-frame{position:relative;height:236px;overflow:hidden;border:1px solid #f1f1f1;border-bottom:0;cursor:pointer}.SpectrogramPlayer .SpectrogramPlayer-poster{height:220px;width:auto;position:absolute;top:16px;cursor:pointer}.SpectrogramPlayer .SpectrogramPlayer-slider{margin-left:9px;will-change:transform;position:absolute}.SpectrogramPlayer .SpectrogramPlayer-spectContainer{position:relative;margin-top:16px}.SpectrogramPlayer .SpectrogramPlayer-spect{height:220px;width:100%;cursor:pointer}.SpectrogramPlayer .SpectrogramPlayer-cursor{position:absolute;top:0;left:50%;height:100%;width:1px;background-color:red;pointer-events:none}.SpectrogramPlayer .SpectrogramPlayer-cursorSelect{position:absolute;top:0;width:1px;background-color:transparent;height:100%}[data-whatinput=keyboard] .SpectrogramPlayer .SpectrogramPlayer-cursorSelect,[data-whatinput=mouse] .SpectrogramPlayer .SpectrogramPlayer-cursorSelect{background-color:hsla(0,0%,50.2%,.4)}@-webkit-keyframes blink{0%,59.9%{opacity:1}60%,to{opacity:0}}@keyframes blink{0%,59.9%{opacity:1}60%,to{opacity:0}}.SpectrogramPlayer .SpectrogramPlayer-startCursor{position:absolute;top:0;width:1px;background-color:#757575;height:100%;opacity:1;-webkit-animation:blink .4s infinite alternate;animation:blink .4s infinite alternate}.SpectrogramPlayer .SpectrogramPlayer-xAxis{position:absolute;top:0;left:0;height:16px;background-color:#fff;color:#6a6a6a;font-size:.75rem;line-height:1.333;border-bottom:1px solid #f1f1f1}.SpectrogramPlayer .SpectrogramPlayer-xAxis .SpectrogramPlayer-tick{position:absolute;top:0;height:3px;border-left:1px solid #d6d6d6}.SpectrogramPlayer .SpectrogramPlayer-xAxis .SpectrogramPlayer-tick:nth-child(odd){height:6px;border-color:#d6d6d6}.SpectrogramPlayer .SpectrogramPlayer-xAxis .SpectrogramPlayer-tick:nth-child(4n+1){height:16px;border-color:#d6d6d6;background-color:#fff;padding-left:3px}.SpectrogramPlayer .SpectrogramPlayer-yAxis{position:absolute;top:0;left:0;width:16px;height:100%;background-color:#fff;color:#6a6a6a;font-size:.75rem}.SpectrogramPlayer .SpectrogramPlayer-yAxis .SpectrogramPlayer-tick{position:absolute;left:0;width:16px;border-top:1px solid #d6d6d6;padding-top:2px;padding-left:2px}.SpectrogramPlayer .SpectrogramPlayer-yAxis .SpectrogramPlayer-khz{position:absolute;bottom:0;left:1px;font-size:8px;color:#6a6a6a}.SpectrogramPlayer .SpectrogramPlayer-timeline{position:relative;height:32px;overflow:hidden;background-color:#f8f8f8}.SpectrogramPlayer .SpectrogramPlayer-timeline .SpectrogramPlayer-timelineImage{height:32px;max-width:100%;margin:0}.SpectrogramPlayer .SpectrogramPlayer-timeline .SpectrogramPlayer-timelineAfter,.SpectrogramPlayer .SpectrogramPlayer-timeline .SpectrogramPlayer-timelineBefore,.SpectrogramPlayer .SpectrogramPlayer-timeline .SpectrogramPlayer-timelineNow{position:absolute;top:0;bottom:0;right:auto;left:0;background-color:rgba(0,0,0,.1);will-change:left;box-shadow:inset 0 3px 3px -3px rgba(33,33,33,.8)}.SpectrogramPlayer .SpectrogramPlayer-timeline .SpectrogramPlayer-timelineNow{background-color:hsla(0,0%,100%,.3);will-change:width}.SpectrogramPlayer .SpectrogramPlayer-timeline .SpectrogramPlayer-timelineAfter{right:0;left:auto}.SpectrogramPlayer .SpectrogramPlayer-errorMessage{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:1rem;color:#2f2f2f;background-color:hsla(0,0%,100%,.8)}.SpectrogramPlayer .LoadingAnimation{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:transparent;pointer-events:none}.SpectrogramPlayer--compact .SpectrogramPlayer-poster,.SpectrogramPlayer--compact .SpectrogramPlayer-spect,.SpectrogramPlayer--sm .SpectrogramPlayer-poster,.SpectrogramPlayer--sm .SpectrogramPlayer-spect{height:168px}.SpectrogramPlayer--compact .SpectrogramPlayer-frame,.SpectrogramPlayer--sm .SpectrogramPlayer-frame{height:184px}.SpectrogramPlayer--xs .SpectrogramPlayer-poster,.SpectrogramPlayer--xs .SpectrogramPlayer-spect{height:110px}.SpectrogramPlayer--xs .SpectrogramPlayer-frame{height:126px}.SpectrogramPlayer--xs .SpectrogramPlayer-xAxis,.SpectrogramPlayer--xs .SpectrogramPlayer-yAxis{font-size:10px}.SpectrogramPlayer--xs .SpectrogramPlayer-xAxis .SpectrogramPlayer-tick,.SpectrogramPlayer--xs .SpectrogramPlayer-yAxis .SpectrogramPlayer-tick{padding-top:0}.SpectrogramPlayer--xs .SpectrogramPlayer-xAxis .SpectrogramPlayer-khz,.SpectrogramPlayer--xs .SpectrogramPlayer-yAxis .SpectrogramPlayer-khz{bottom:-1px}.SpectrogramPlayer--inline{max-width:640px}.SpectrogramPlayer--inline.SpectrogramPlayer--compact,.SpectrogramPlayer--inline.SpectrogramPlayer--sm{max-width:489px}.SpectrogramPlayer--inline.SpectrogramPlayer--xs{max-width:320px}.SpectrogramPlayer--primary .MediaControls-controls{background-color:#0c2331}.SpectrogramPlayer--primary .MediaControls-branding{display:none}.SpectrogramPlayer--primary .MediaControls-volume .MediaControls-volumeSliderOverlay{background-color:#0c2331}.SpectrogramPlayer--primary .MediaControls-meta a{color:#8ad4ff}.SpectrogramPlayer--annotation .SpectrogramPlayer-xAxis{border-bottom:1px solid #f1f1f1}.SpectrogramPlayer--annotation .SpectrogramPlayer-xAxis .SpectrogramPlayer-tick:nth-child(4n+1){background-color:transparent}.SpectrogramPlayer--withMeta .MediaControls-meta .MediaControls-title{margin:0 0 .25rem}.SpectrogramPlayer--withMeta .MediaControls-meta .MediaControls-title:empty{display:none}@supports(grid-area:x){.SpectrogramPlayer--withMeta .MediaControls-controls{padding:.25rem .5rem;display:grid;grid-template-areas:"play volume meta" "time blank meta";grid-gap:.5rem;grid-template-columns:auto auto 1fr;grid-template-rows:auto 1fr}.SpectrogramPlayer--withMeta .MediaControls-playButton{grid-area:play}.SpectrogramPlayer--withMeta .MediaControls-time{grid-area:time;align-self:start;padding:.25rem .5rem}.SpectrogramPlayer--withMeta .MediaControls-volume{grid-area:volume}.SpectrogramPlayer--withMeta .MediaControls-meta{grid-area:meta;padding:.5rem}}',""]),t.exports=n}}]);