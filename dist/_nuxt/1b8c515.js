/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{1047:function(t,e,n){"use strict";n.r(e);n(36),n(41),n(231),n(44),n(37),n(75),n(11),n(40);var l=n(726),o={name:"CloChart",data:function(){return{isHistogram:!1,linesdata:[],xLabel:"",yLabel:"",margin:{top:30,right:30,bottom:90,left:70},height:0,yLabelOffset:0,yLabelOffsetTop:0,tooltipYoffset:0,mouseoverRectXoffset:-25,showTooltips:!0,histogramValues:null,xVals:null,everyOtherXTick:!1,bandPaddingInner:.1,histogramColors:["#2c7fb8","#dd1c77","#31a354","#feb24c","#810f7c","#fed976"],bandPadding:.05,tooltipData:null,linesToolData:[],xTickLabels:null,yTickLabels:null,showLegend:!1,width:0,x_scale:null,y_scale:null,tooltip:null,tooltipXoffsetRight:150,tooltipXoffsetLeft:150,numXTicks:null,numYTicks:null,xTickFormat:null,chartColors:["#2c7fb8","#dd1c77","#31a354","#feb24c","#810f7c","#fed976"],selectedXTick:0,bisectDate:l.d((function(t){return t.date})).left}},props:{chartInfo:{type:Object,required:!1}},computed:{},beforeMount:function(){},mounted:function(){var t=this;this.isHistogram=this.chartInfo.isHistogram||!1,this.width=this.$parent.$el.offsetWidth-this.margin.left,this.linesdata=this.chartInfo.chartData,this.linesdata.forEach((function(element,e){element.lineColor=t.chartColors[e]})),this.xLabel=this.chartInfo.xLabel||"",this.yLabel=this.chartInfo.yLabel||"",this.margin=this.chartInfo.margin||{top:30,right:30,bottom:90,left:70},this.height=this.width/2-this.margin.bottom,this.showTooltips=this.chartInfo.showTooltips||!0,this.yLabelOffset=this.chartInfo.yLabelOffset||0,this.yLabelOffsetTop=this.chartInfo.yLabelOffsetTop||0,this.xVals=this.chartInfo.xVals||null,this.xTickLabels=this.chartInfo.xTickLabels||null,this.yTickLabels=this.chartInfo.yTickLabels||null,this.showLegend=this.chartInfo.showLegend||!1,this.xTickFormat=function(e,i){return t.xTickLabels[i]},this.isHistogram?this.renderHistogram():(this.linesToolData=this.toolData(this.chartInfo.chartData),this.renderChart())},methods:{renderChart:function(){var t=this,e=this.width-this.margin.left-this.margin.right,n=this.height-this.margin.top-this.margin.bottom,o=l.h(this.linesdata,(function(t){return l.h(t.x)})),r=l.h(this.linesdata,(function(t){return l.h(t.y)})),h=l.g(this.linesdata,(function(t){return l.g(t.x)})),c=l.g(this.linesdata,(function(t){return l.g(t.y)}));this.x_scale=l.k().range([15,e]).domain([o,h]),this.y_scale=l.k().range([n,0]).domain([r,c]);var d=null!==this.xTickLabels?l.b(this.x_scale).ticks(this.numXTicks).tickFormat(this.xTickFormat):l.b(this.x_scale).ticks(this.numXTicks),f=null!==this.yTickLabels?l.c(this.y_scale).ticks().tickFormat((function(t,i){return this.yTickLabels[i]})):l.c(this.y_scale);f.tickSizeOuter(0),d.tickSizeOuter(0);var m=l.f().x((function(e,i){return t.x_scale(e[0])})).y((function(e){return t.y_scale(e[1])})),svg=l.m(this.$el).append("svg").attr("width",this.width+this.margin.left).attr("height",this.height+this.margin.bottom).attr("class","Chart").append("g").attr("transform","translate("+t.margin.left+","+t.margin.top+")");svg.on("mousemove",this.mouseMove),svg.append("rect").attr("x",0).attr("y",0).attr("id","CloChart-innerRect").attr("width",this.width-this.margin.right).attr("height",this.height-this.margin.bottom-this.margin.top).style("fill","#fff").on("mouseout",this.mouseout),svg.append("g").attr("class","CloChart-x CloChart-axis").attr("transform","translate(0,"+n+")").call(d);var C=document.getElementById("CloChart-innerRect").getBoundingClientRect().height;l.n(".CloChart-x").selectAll("g.tick").append("line").attr("class",(function(t,i){return"CloChart-selectionLine CloChart-selectionLine"+i})).attr("y2",-C),svg.append("g").attr("class","CloChart-y CloChart-axis").call(f),svg.append("text").attr("class","CloChart-x CloChart-label").attr("text-anchor","end").attr("x",this.width/2-this.margin.right).attr("y",this.height-.7*this.margin.bottom).text(this.xLabel),svg.append("text").attr("class","CloChart-y CloChart-label").attr("text-anchor","end").attr("x",-this.height/2+this.margin.left+this.yLabelOffset).attr("y",this.margin.top-1.4*this.margin.left+this.yLabelOffsetTop).attr("dy",".75em").attr("transform","rotate(-90)").text(this.yLabel);svg.selectAll(".CloChart-lineWrapper").data(this.linesdata.map((function(t){return l.r(t.x,t.y)}))).enter().append("g").attr("class",(function(t,i){return"CloChart-lineWrapper CloChart-lineWrapper"+i})).append("path").attr("class",(function(t,i){return"CloChart-line CloChart-line"+i})).attr("d",(function(t){return m(t)})).attr("stroke",(function(e,i){return t.chartColors[i]}));this.showTooltips&&(this.tooltip=l.m(this.$el).append("div").attr("class","CloChart-tooltip").style("display","none"));this.showLegend&&svg.append("g").attr("class","legend").attr("x",this.margin.left).attr("y",25).attr("height",100).attr("width",100).selectAll("g").data(this.linesdata).enter().append("g").each((function(e,i){var g=l.m(this);g.append("rect").attr("x",t.margin.left-70).attr("y",t.height-55+25*i).attr("width",15).attr("height",15).style("fill",e.lineColor);var n=g.append("text").attr("x",t.margin.left-48).attr("y",t.height-42+25*i).attr("height",30).attr("width",100).attr("class","CloChart-legend").text((function(t){return t.legendLabel}));if(e.legendLabelSci){var o=n.node().getBBox();g.append("text").attr("x",t.margin.left-48+o.width+5).attr("y",t.height-42+25*i).attr("height",30).attr("width",100).attr("class","CloChart-legendSci").text((function(t){return t.legendLabelSci}))}}))},mouseMove:function(){var t=this,data=t.linesToolData[0],e=l.i(l.e.currentTarget),n=this.x_scale.invert(e[0]),o=Math.round(n)>=this.x_scale.ticks().length?Math.floor(n):Math.round(n),r=this.x_scale.invert(l.i(l.e.currentTarget)[0]),i=o,h=data[i-1],c=(data[i],0);if(h){c=r-h.date;l.i(l.e.currentTarget)[0],this.selectedXTick;this.selectedXTick=o,this.addSelectionLine(o);var d="",f="<h5>"+this.xLabel+": "+this.xTickLabels[o-1]+"</h5>";this.linesdata.sort((function(a,b){return parseFloat(b.y[o-1])-parseFloat(a.y[o-1])})),this.linesdata.forEach((function(element,e){var n="";element.legendLabelSci&&(n=' <em class="sciName">'+element.legendLabelSci+"</em>"),d+='<div class="CloChart-tooltipValue">'+t.formatAreaWithCommas(element.y[o-1])+'</div><div class="CloChart-tooltipText"><svg class="CloChart-tooltipKey"><rect x="0" y="0" width="15" height="15" style="fill:'+element.lineColor+'"/></svg></div><span class="CloChart-tooltipText">'+element.legendLabel+n+"</span><br/>"}));var m=this.getDefaultFontSize();return t.tooltip.html(c).style("right",m+"px").style("top",m+this.tooltipYoffset+"px").style("display",null).html(f+d)}},updateData:function(){this.x_scale.domain([l.h(this.linesdata,(function(t){return l.h(t.x)})),l.g(this.linesdata,(function(t){return l.g(t.x)}))]),this.y_scale.domain([l.h(this.linesdata,(function(t){return l.h(t.y)})),l.g(this.linesdata,(function(t){return l.g(t.y)}))]),xAxis=l.b(this.x_scale),yAxis=l.c(this.y_scale);var t=l.n(this.$el).transition();t.select(".CloChart-x.CloChart-axis").duration(750).call(xAxis),svgChat.select(".CloChart-y.CloChart-axis").duration(750).call(yAxis);for(var e=l.f().x((function(t,i){return this.x_scale(t.x)})).y((function(t,i){return this.y_scale(t.y)})),i=0;i<this.linesdata.length;i++)t.select(".CloChart-line"+i).attr("d",e(transform(this.linesdata[i])))},mouseout:function(){this.isHistogram?(this.tooltip.style("display","none"),l.n(".CloHistogram-selectionLine").style("visibility","hidden")):(this.tooltip.style("display","none"),this.hideSelectionLines())},addSelectionLine:function(t){this.hideSelectionLines();l.n(".CloChart-x").selectAll("g.tick").filter((function(e){return e==t})).selectAll(".CloChart-selectionLine").style("visibility","visible")},hideSelectionLines:function(){l.n(".CloChart-x").selectAll("g.tick").selectAll(".CloChart-selectionLine").style("visibility","hidden")},getDefaultFontSize:function(){this.isHistogram;var t=window.getComputedStyle(document.getElementsByClassName("CloChart-lineChart")[0]).fontSize,e=t.indexOf("px");return t=t.substring(0,e),parseFloat(t)},formatAreaWithCommas:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},toolData:function(data){for(var t=[],i=0;i<data.length;i++){for(var e=[],n=data[i].legendLabel,l=0;l<data[i].x.length;l++){var o=[];o.date=data[i].x[l],o.value=data[i].y[l],o.label=n,e[l]=o}t.push(e)}return t},renderHistogram:function(){for(var t=this,e=l.j().rangeRound([15,this.width-this.margin.left]).paddingInner(this.bandPaddingInner),n=l.j().padding(this.bandPadding),o=l.k().rangeRound([this.height,0]),r=l.l().range(this.histogramColors),data=(this.xVals.length,[]),i=0;i<this.xVals.length;i++){for(var h={},c=0;c<this.linesdata.length;c++)h[this.linesdata[c].legendLabel]=this.linesdata[c].yVals[i],h.xText=this.xVals[i];data.push(h)}this.tooltipData=data;var d=[];for(i=0;i<this.linesdata.length;i++)d.push(this.linesdata[i].legendLabel);this.width,this.margin.left,this.margin.right,this.height,this.margin.top,this.margin.bottom;var svg=l.m(this.$el).append("svg").attr("width",this.width+this.margin.left).attr("height",this.height+this.margin.bottom).attr("class","CloHistogram-barChart").on("mouseout",this.mouseout);svg.append("rect").attr("x",0+this.margin.left).attr("y",0+this.margin.top).attr("id","CloHistogram-innerRect").attr("width",this.width-this.margin.left).attr("height",this.height).style("fill","#fff");if(svg.append("text").attr("class","CloHistogram-y CloHistogram-label").attr("x",-this.height/2+this.yLabelOffsetTop).attr("y",this.margin.top/2+this.yLabelOffset).attr("transform","rotate(-90)").text(this.yLabel),this.showTooltips){l.n(this.$el).transition();this.tooltip=l.m(this.$el).append("div").attr("class","CloHistogram-tooltip").style("display","none")}var g=svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");e.domain(data.map((function(t){return t.xText}))),n.domain(d).rangeRound([0,e.bandwidth()]),o.domain([0,l.g(data,(function(t){return l.g(d,(function(e){return t[e]}))}))]).nice();var f=g.append("g").selectAll("g").data(data).enter().append("g").attr("transform",(function(t){return"translate("+e(t.xText)+",0)"})).selectAll("rect").data((function(t){return d.map((function(e){return{key:e,value:t[e]}}))})).enter().append("rect").attr("x",(function(t){return n(t.key)})).attr("y",(function(t){return o(t.value)})).attr("width",n.bandwidth()).attr("height",(function(e){return t.height-o(e.value)})).attr("fill",(function(t){return r(t.key)})).attr("class","CloHistogram-dataBar"),m=this.$el.getBoundingClientRect().height,C=g.append("g").attr("class","CloHistogram-axis CloHistogram-Xaxis").attr("transform","translate(0,"+this.height+")").call(l.b(e).ticks().tickFormat((function(e,i){return!0===t.everyOtherXTick?i%2==0?t.xVals[i]:"":t.xVals[i]})).tickSizeOuter(0)),y=f.node().parentNode.getBBox().width;C.selectAll("g.tick").append("rect").attr("class",(function(t,i){return"CloHistogram-selectionRect CloHistogram-selectionRect"+i})).attr("x",-25).attr("y",-m).attr("height",m).attr("width",y).style("fill","none").on("mouseover",this.mouseover);C.selectAll("g.tick").append("line").attr("class",(function(t,i){return"CloHistogram-selectionLine CloHistogram-selectionLine"+i})).attr("y2",-m).style("visibility","hidden"),g.append("g").attr("class","CloHistogram-axis CloHistogram-Yaxis").call(l.c(o)).append("text").attr("x",2).attr("y",o(o.ticks().pop())+.5).attr("dy","0.32em").attr("font-weight","bold").attr("text-anchor","start").text("Y Vals")},transform:function(line){for(var t=[],i=0;i<line.x.length;i++){var e={};t.push(e),e.x=line.x[i],e.y=line.y[i]}return margin.bottom=margin.bottom*t.length,t},mouseover:function(t,i){var e=this;l.n(".CloHistogram-selectionLine").style("visibility","hidden"),l.n(".CloHistogram-selectionLine"+i).style("visibility","visible");var n="",o="<h5>"+this.xLabel+": "+this.xVals[i]+"</h5>";this.linesdata.sort((function(a,b){return parseFloat(b.yVals[i])-parseFloat(a.yVals[i])})),this.linesdata.forEach((function(element,t){var l=e.histogramColors[t],o="";element.legendLabelSci&&(o=' <em class="sciName">'+element.legendLabelSci+"</em>"),n+='<div class="CloHistogram-tooltipValue">'+e.formatAreaWithCommas(element.yVals[i])+'</div><div class="CloHistogram-tooltipText"><svg class="CloHistogram-tooltipKey"><rect x="0" y="0" width="15" height="15" style="fill:'+l+'"/></svg></div><span class="CloHistogram-tooltipText">'+element.legendLabel+o+"</span><br/>"}));var r=this.getDefaultFontSize();return this.tooltip.html(this.tooltipData[i]).style("right",r+"px").style("top",r+this.tooltipYoffset+"px").style("display",null).html(o+n)}}},r=(n(927),n(2)),component=Object(r.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"CloChart-lineChart",attrs:{id:"chart"}})}),[],!1,null,null,null);e.default=component.exports},718:function(t,e,n){var content=n(928);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(14).default)("4dd72d0a",content,!0,{sourceMap:!1})},927:function(t,e,n){"use strict";n(718)},928:function(t,e,n){var l=n(13)(!1);l.push([t.i,'@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.CloChart.g{pointer-events:all}.CloChart-lineChart{position:relative;width:100%;height:100%;padding-top:1.5rem;padding-bottom:1.5rem}.CloChart-circle{stroke:#000;stroke-width:2;fill:#fff}.CloChart-axis line,.CloChart-axis path{fill:none;shape-rendering:crispEdges;pointer-events:none}.CloChart-axis text,.CloChart-legend{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.CloChart-legend{font-size:.75rem;line-height:1.333;pointer-events:none}.CloChart-selectionLine{stroke:#757575;stroke-width:1;visibility:hidden}.CloChart-tooltip{position:absolute;width:auto;min-width:12rem;background-color:hsla(0,0%,100%,.9);text-align:left;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:.75rem;line-height:1.333;color:#232323;border:1px solid #d6d6d6;border-radius:0;padding:.5rem .6rem .6rem;pointer-events:none}.CloChart-tooltipTitle{margin:0}.CloChart-tooltipValue{display:inline-block;width:2rem;text-align:right;font-weight:700;padding:.25rem .25rem 0}.CloChart-tooltipText{display:inline-block;width:auto;padding:.25rem .45rem 0 .25rem}.CloChart-tooltipKey{position:relative;display:inline-block;width:1rem;height:1rem;top:.25rem}.CloChart-legendSci{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:12px;font-style:italic}.CloChart-line{fill:none;stroke-width:3px;pointer-events:none}.CloChart-label{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:.75rem;line-height:1.333}.overlay{fill:none;pointer-events:all}.focus circle{fill:#4682b4}.focus text{font-size:.75rem;line-height:1.333}.tooltip{fill:#fff;stroke:#212121}.tooltip-date,.tooltip-likes{font-weight:700}.CloHistogram-barChart{position:relative;width:100%}.CloHistogram-axis text{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.CloHistogram-hideText{display:none}.CloHistogram-label{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:.75rem;line-height:1.333}.CloHistogram-selectionRect{fill:"none";stroke-width:0;pointer-events:all}.CloHistogram-selectionLine{stroke:#757575;stroke-width:1;visibility:visible;pointer-events:none}.CloHistogram-tooltip{position:absolute;width:auto;min-width:12rem;background-color:hsla(0,0%,100%,.9);text-align:left;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:.75rem;line-height:1.333;color:#232323;border:1px solid #d6d6d6;border-radius:0;padding:.5rem .6rem .6rem;pointer-events:none}.CloHistogram-tooltipTitle{margin:0}.CloHistogram-tooltipValue{display:inline-block;width:2.5rem;text-align:right;font-weight:700;padding:.25rem .25rem 0}.CloHistogram-tooltipText{display:inline-block;width:auto;padding:.25rem .45rem 0 .25rem}.CloHistogram-tooltipKey{position:relative;display:inline-block;width:1rem;height:1rem;top:.25rem}',""]),t.exports=l}}]);