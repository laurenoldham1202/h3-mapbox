/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[97,39],{473:function(e,t,o){var content=o(476);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(14).default)("b134ce3e",content,!0,{sourceMap:!1})},474:function(e,t,o){"use strict";o.r(t);var n={components:{CloIcon:o(26).default},data:function(){return{}}},r=(o(475),o(2)),component=Object(r.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"LoadingAnimation"},[t("CloIcon",{attrs:{symbol:"spinner"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CloIcon:o(26).default})},475:function(e,t,o){"use strict";o(473)},476:function(e,t,o){var n=o(13)(!1);n.push([e.i,"@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.LoadingAnimation{position:absolute;background-color:#fff;top:0;left:0;right:0;bottom:0;padding:0}.LoadingAnimation--inLightbox{background-color:transparent}.LoadingAnimation--inLightbox .Icon{margin:-18px auto 0;fill:#757575}.LoadingAnimation--inLightbox .Icon,.LoadingAnimation--modal{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.LoadingAnimation--modal{right:auto;bottom:auto;padding:1rem;border-radius:.25rem;transition:opacity 1s ease-out}[dir=rtl] .LoadingAnimation--modal{left:auto;right:0}.LoadingAnimation--modal .Icon{margin:1rem auto!important}.LoadingAnimation--overlay{background-color:hsla(0,0%,100%,.8)}.LoadingAnimation--showMore{position:relative;background-color:transparent}.LoadingAnimation--stacked{text-align:center;background-color:hsla(0,0%,100%,.8);padding:1rem;z-index:100}.LoadingAnimation--stacked .Icon{margin-top:10%;margin-bottom:10%}.no-js .LoadingAnimation{display:none}.LoadingAnimation .Icon{display:block;width:2rem;height:2rem;fill:#228000;margin:2rem auto;-webkit-animation-duration:1.2s;animation-duration:1.2s;-webkit-animation-name:spin;animation-name:spin;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:linear;animation-timing-function:linear}.LoadingAnimation--small{position:relative;display:inline;background-color:transparent}.LoadingAnimation--small .Icon{width:1rem;height:1rem;display:inline;margin:0}.LoadingAnimation--inTypeahead{background:none;right:.5rem;top:.5rem;bottom:auto;left:auto}[dir=rtl] .LoadingAnimation--inTypeahead{left:.5rem;right:auto}.LoadingAnimation--inTypeahead .Icon{margin:0;width:1.5rem;height:1.5rem}.LoadingAnimation--basic{position:relative;background-color:transparent}.LoadingAnimation[aria-hidden=true]{visibility:hidden}",""]),e.exports=n},506:function(e,t,o){var content=o(551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(14).default)("bf57a174",content,!0,{sourceMap:!1})},511:function(e,t,o){"use strict";o.r(t);var n=o(19),r=(o(470),o(41),o(11),o(31),o(29),o(161),o(37),o(160),o(42),o(91),o(76)),l=o.n(r),d=o(159),h=o(474),c=o(510),m=o(26),f={components:{CloButton:d.default,CloLoadingAnimation:h.default,CloMediaControls:c.default,CloIcon:m.default},data:function(){var e;return e={playing:!1,isActive:!1,showLoading:!0,progressPercent:0,time:0,duration:0,durationText:"",switchTime:0,switchingSource:!1,volumeSlider:1,showVolume:!1,fullscreen:!1,hdActive:!1,hdAvailable:!1,disableResize:!1,showFullscreen:!0,hideVolume:!1,hideBranding:!1},Object(n.a)(e,"hideVolume",!1),Object(n.a)(e,"hideTime",!1),Object(n.a)(e,"disableFit",!1),Object(n.a)(e,"preload","metadata"),Object(n.a)(e,"bigPlayButton",!1),Object(n.a)(e,"notYetPlayed",!0),Object(n.a)(e,"specimenBaseUrl","https://macaulaylibrary.org/asset/"),Object(n.a)(e,"startFrame",null),Object(n.a)(e,"classes",""),Object(n.a)(e,"showVideo",!1),e},props:{assetId:{},citationUrl:{default:" "},poster:String,fitToHeight:{default:!1,type:Boolean},maxHeight:{type:Number},maxWidth:{type:Number},hd:{default:!1},autoplay:{default:!1,type:Boolean},disableMLLink:{default:!1,type:Boolean},map:{default:!1,type:Boolean},mapstem:{default:!1,type:Boolean},frameStep:{},mediaDownloadUrl:{default:"https://cdn.download.ams.birds.cornell.edu/api/v1/asset/",type:String},animatedText:{type:String,default:""}},computed:{media:function(){return isNaN(this.assetId)&&(this.mediaDownloadUrl=""),this.map?window.innerWidth<1200?this.mediaDownloadUrl+this.assetId+"/mp4/1920":this.mediaDownloadUrl+this.assetId+"/mp4/3840":this.hdActive?this.mediaDownloadUrl+this.assetId+"/mp4/1920":this.mediaDownloadUrl+this.assetId+"/mp4/1280"},specimenUrl:function(){return!1!==this.citationUrl&&this.specimenBaseUrl+this.assetId},messages:function(){return{mute:"mute",volume:"volume",seek:"seek",play:"play",fullscreen:"full screen",next:this.$t("generic.Next"),previous:this.$t("generic.Previous")}},videoId:function(){return"video-"+this._uid}},beforeMount:function(){if(this.hdAvailable=!!this.hd,this.hdActive="default"===this.hd,this.hdAvailable){var e=this.mediaDownloadUrl+this.assetId+"/mp4/1920";this.checkForHDFile(e)}if(this.map){this.hideVolume=!0,this.hideBranding=!0,this.hideTime=!0,this.showFullscreen=!1,this.disableFit=!0,this.bigPlayButton=!0,this.preload="auto",this.hdAvailable=!1,this.hdActive=!1;var t=new URLSearchParams(window.location.search).get("frame");t&&(this.startFrame=t)}this.mapstem&&(this.hideVolume=!0,this.showFullscreen=!1,this.hdAvailable=!1,this.hdActive=!1,this.disableMLLink=!0)},mounted:function(){document.addEventListener("lichen:resize",this.e),document.addEventListener("lichen:video-togglePlay",this.handleTogglePlayEvent),document.addEventListener("lichen:video-pause",this.pause),document.addEventListener("lichen:video-destroy",this.removeListeners)},beforeDestroy:function(){this.removeListeners()},methods:{removeListeners:function(){document.removeEventListener("lichen:resize",this.setSize),document.removeEventListener("lichen:video-togglePlay",this.handleTogglePlayEvent),document.removeEventListener("lichen:video-pause",this.pause),document.removeEventListener("lichen:video-destroy",this.removeListeners)},handleTogglePlayEvent:function(e){e.detail.assetId===parseInt(this.assetId)&&this.togglePlay()},togglePlay:function(){this.$refs.video&&(this.playing?this.$refs.video.pause():this.$refs.video.play())},isPlaying:function(){this.playing=!0,this.showLoading=!1,this.bigPlayButton=!1,this.notYetPlayed=!1},isPaused:function(){this.playing=!1},pause:function(){this.$refs.video&&this.$refs.video.pause(),this.playing=!1},updateProgress:function(){this.progressPercent=100*this.time/this.duration},formatTime:function(time){return Math.floor(time/60)+":"+("0"+Math.floor(time%60)).slice(-2)},timeUpdated:function(){this.$refs.video&&(this.time=this.$refs.video.currentTime,this.$emit("video-time-updated",this.time)),this.updateProgress()},setSize:function(){if(!this.disableResize&&!this.disableFit){var e,t,o,n;o=this.fitToHeight?this.$el.parentNode.parentNode.parentNode.offsetHeight:9999,this.maxHeight&&(o=this.maxHeight),this.maxWidth&&(n=this.maxWidth);var r=n/o;this.$refs.controls;var l=this.originalWidth/(this.originalHeight+50);this.originalHeight+50>o?(e=o-50,this.originalWidth<=n?t=this.aspectRatio*e:(t=n,r<l?e=t/this.aspectRatio:t=this.aspectRatio*e)):o-50>=this.originalHeight?(e=this.originalHeight,this.originalWidth<=n?t=this.aspectRatio*e:e=(t=n)/this.aspectRatio):e=o-50,t<320&&(t=320),this.$refs.video&&(this.$refs.video.style.height=e+"px",this.$refs.video.style.width=t+"px")}this.showVideo=!0},loadedMetadata:function(e){var t=this;if(this.showLoading=!1,this.originalWidth=e.target.videoWidth,this.originalHeight=e.target.videoHeight,this.aspectRatio=this.originalWidth/this.originalHeight,this.isActive||(this.isActive=!0,setTimeout((function(){t.setSize()}),50)),this.$refs.video){var o=this.$refs.video.duration;this.duration=o,this.durationText=this.formatTime(o)}this.switchingSource&&(this.$refs.video.currentTime=this.switchTime,this.time=this.switchTime,this.updateProgress(),"continue"===this.switchingSource&&this.$refs.video.play(),this.switchingSource=!1),this.startFrame&&(this.$refs.video.currentTime=(this.startFrame-1)/this.frameStep,this.classes="VideoPlayer--ready")},setTime:function(e){var t=this;requestAnimationFrame((function(){t.time=parseFloat(e),t.$refs.video.currentTime=t.time,t.updateProgress()}))},setPosition:function(e){var t=this;requestAnimationFrame((function(){t.time=parseFloat(e),t.updateProgress()}))},setVolume:function(e){this.$refs.video.volume=e,this.volumeToRestore=e},toggleVolume:function(){0==this.volumeSlider?0==this.volumeToRestore?this.volumeSlider=1:this.volumeSlider=this.volumeToRestore:this.volumeSlider=0,this.setVolume()},toggleFullscreen:function(){var e=this.$refs.video,t=document.documentElement;t.requestFullscreen?(this.disableResize=!0,document.addEventListener("fullscreenchange",this.fullscreenchange,!1),e.requestFullscreen()):t.mozRequestFullScreen?(this.disableResize=!0,document.addEventListener("mozfullscreenchange",this.fullscreenchange,!1),e.mozRequestFullScreen()):t.webkitRequestFullScreen?(this.disableResize=!0,document.addEventListener("webkitfullscreenchange",this.fullscreenchange,!1),e.webkitRequestFullScreen()):t.msRequestFullscreen&&(this.disableResize=!0,document.addEventListener("MSFullscreenChange",this.fullscreenchange,!1),e.msRequestFullscreen())},fullscreenchange:function(e){var t=this,o=void 0!==e.target.id?e.target.id:e.target.activeElement.id;if(""===o&&(o=e.target.activeElement.querySelector("video").id),o===this.videoId)if(document.fullscreenElement||document.webkitCurrentFullScreenElement||document.mozFullScreen||document.msFullscreenElement)this.$refs.video.setAttribute("controls",!0),this.$refs.video.setAttribute("controlsList","nodownload");else{var n=document.documentElement;n.requestFullscreen?document.removeEventListener("fullscreenchange",this.fullscreenchange,!1):n.mozRequestFullScreen?document.removeEventListener("mozfullscreenchange",this.fullscreenchange,!1):n.webkitRequestFullScreen?document.removeEventListener("webkitfullscreenchange",this.fullscreenchange,!1):n.msRequestFullscreen&&document.removeEventListener("MSFullscreenChange",this.fullscreenchange,!1),setTimeout((function(){t.disableResize=!1}),500),this.$refs.video.removeAttribute("controls")}},toggleHd:function(){this.playing?this.switchingSource="continue":this.switchingSource=!0,this.hdActive=!this.hdActive;var e=this.$refs.video;this.switchTime=e.currentTime,this.hdActive?e.src=this.mediaDownloadUrl+this.assetId+"/mp4/1920":e.src=this.mediaDownloadUrl+this.assetId+"/mp4/1280"},isWaiting:function(){this.showLoading=!0},canPlay:function(){var e=this;this.showLoading=!1,this.autoplay&&setTimeout((function(){-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Firefox")||e.$refs.video&&e.$refs.video.play()}),350)},previousFrame:function(){this.playing&&this.pause();var time=this.$refs.video.currentTime-=1/this.frameStep;time<0&&(time=this.duration-.01),this.$refs.video.currentTime=time,this.notYetPlayed&&(this.notYetPlayed=!1,this.bigPlayButton=!1,this.time=time,this.updateProgress())},nextFrame:function(){this.playing&&this.pause();var time=this.$refs.video.currentTime+=1/this.frameStep;time>this.duration&&(time=0),this.$refs.video.currentTime=time,this.notYetPlayed&&(this.notYetPlayed=!1,this.bigPlayButton=!1)},checkForHDFile:function(e){var t=this;l.a.head(e).then((function(e){200!==e.status&&(t.hdAvailable=!1,t.hdActive=!1)})).catch((function(e){t.hdAvailable=!1,t.hdActive=!1}))}}},v=(o(550),o(2)),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"VideoPlayer",class:e.classes},[o("div",{staticClass:"VideoPlayer-container",attrs:{dir:"ltr",tabindex:"0"},on:{"!keyup":function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.togglePlay.apply(null,arguments))}}},[o("div",{staticClass:"VideoPlayer-video",on:{click:function(t){return t.preventDefault(),e.togglePlay.apply(null,arguments)}}},[o("video",{ref:"video",attrs:{src:e.media,poster:e.poster,id:e.videoId,controlslist:"nodownload",preload:e.preload,loop:e.map},on:{timeupdate:e.timeUpdated,loadedmetadata:e.loadedMetadata,playing:e.isPlaying,waiting:e.isWaiting,canplay:e.canPlay,pause:e.isPaused,contextmenu:function(e){e.preventDefault()}}})]),e._v(" "),o("CloMediaControls",{ref:"controls",attrs:{duration:e.duration,currentTime:e.time,progressPercent:e.progressPercent,seekContainerClasses:e.map?"MediaControls-seek-container--reverse":"",controlsClasses:e.map?"MediaControls-controls--reverse":"",playing:e.playing,messages:e.messages,showVolume:e.showVolume,citationUrl:e.citationUrl,specimenUrl:e.specimenUrl,hdAvailable:e.hdAvailable,hdActive:e.hdActive,showFullscreen:e.showFullscreen,hideBranding:e.hideBranding,hideTime:e.hideTime,hideVolume:e.hideVolume,frameStep:e.frameStep,assetId:e.assetId,animatedText:e.animatedText},on:{togglePlay:e.togglePlay,setVolume:e.setVolume,toggleVolume:e.toggleVolume,setTime:e.setTime,setPosition:e.setPosition,toggleHd:e.toggleHd,toggleFullscreen:e.toggleFullscreen,previousFrame:e.previousFrame,nextFrame:e.nextFrame}}),e._v(" "),e.showLoading?o("div",{staticClass:"LoadingAnimation"},[o("CloIcon",{attrs:{symbol:"spinner"}})],1):e._e(),e._v(" "),e.bigPlayButton&&!this.startFrame?o("div",{staticClass:"VideoPlayer-bigPlayButton"},[o("button",{staticClass:"Button u-margin-none",attrs:{type:"button","aria-label":e.messages.play},on:{"!click":function(t){return t.preventDefault(),e.togglePlay.apply(null,arguments)}}},[o("CloIcon",{attrs:{symbol:"play"}})],1)]):e._e()],1)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CloMediaControls:o(510).default,CloIcon:o(26).default})},550:function(e,t,o){"use strict";o(506)},551:function(e,t,o){var n=o(13)(!1);n.push([e.i,"@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.VideoPlayer{background-color:#212121;display:inline-block;overflow:visible;overflow:initial;position:relative;max-width:100%}.VideoPlayer .VideoPlayer-container{display:flex;flex-direction:column;overflow:hidden}.VideoPlayer .VideoPlayer-video{flex:0 0 auto;cursor:pointer}.VideoPlayer .VideoPlayer-video video{display:block;max-width:100%}.VideoPlayer .LoadingAnimation{background:transparent;display:flex;align-items:center;justify-items:center;pointer-events:none}.VideoPlayer .LoadingAnimation .Icon{display:flex;fill:#d6d6d6;stroke:#6a6a6a;stroke-width:1px;opacity:.7}.VideoPlayer .VideoPlayer-bigPlayButton{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.VideoPlayer .VideoPlayer-bigPlayButton .Button{padding:1rem;box-shadow:0 6px 6px rgba(0,0,0,.1)}.VideoPlayer .VideoPlayer-bigPlayButton .Button .Icon{width:2.5rem;height:2.5rem}.VideoPlayer .MediaControls-controls{flex:1 0 auto}.VideoPlayer .MediaControls-seek{overflow:hidden}.VideoPlayer--white{background-color:#fff}.VideoPlayer--noControls .MediaControls-controls,.VideoPlayer--noControls .MediaControls-seek-container,.VideoPlayer--noControls .VideoPlayer-bigPlayButton{display:none}.VideoPlayer--640 video{width:640px;height:360px}.VideoPlayer--1280 video{width:1280px;height:720px}",""]),e.exports=n}}]);