(window.webpackJsonp=window.webpackJsonp||[]).push([[127,101],{481:function(e,t,o){var content=o(496);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(14).default)("8e0b9bc6",content,!0,{sourceMap:!1})},495:function(e,t,o){"use strict";o(481)},496:function(e,t,o){var n=o(13)(!1);n.push([e.i,"@-webkit-keyframes pulse-data-v-5f5c5e52{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse-data-v-5f5c5e52{0%,to{opacity:1}50%{opacity:.5}}.sidebar[data-v-5f5c5e52]{background-color:#f8f8f8}",""]),e.exports=n},501:function(e,t,o){"use strict";o.r(t);var n=o(0).a.extend({}),r=(o(495),o(2)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"sidebar"},[o("CloSectionMenu",[o("CloSectionMenuSection",{staticClass:"u-margin-none",attrs:{heading:{title:"Examples"}}},[o("NLink",{attrs:{to:e.localePath("/"),custom:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.href,n=e.navigate,r=e.isActiveExact;return[o("CloSectionMenuItem",{attrs:{url:t,title:"Home",current:r},nativeOn:{click:function(e){return n.apply(null,arguments)}}})]}}])}),e._v(" "),o("NLink",{attrs:{to:e.localePath("user"),custom:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.href,n=e.navigate,r=e.isActive;return[o("CloSectionMenuItem",{attrs:{url:t,title:"User data",current:r},nativeOn:{click:function(e){return n.apply(null,arguments)}}})]}}])}),e._v(" "),o("NLink",{attrs:{to:e.localePath("fetch"),custom:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.href,n=e.navigate,r=e.isActive;return[o("CloSectionMenuItem",{attrs:{url:t,title:"Fetching data",current:r},nativeOn:{click:function(e){return n.apply(null,arguments)}}})]}}])}),e._v(" "),o("NLink",{attrs:{to:e.localePath("/ebird"),custom:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.href,n=e.navigate,r=e.isActive;return[o("CloSectionMenuItem",{attrs:{url:t,title:"Portals",current:r},nativeOn:{click:function(e){return n.apply(null,arguments)}}})]}}])}),e._v(" "),o("NLink",{attrs:{to:e.localePath("fixed"),custom:""},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.href,n=e.navigate,r=e.isActive;return[o("CloSectionMenuItem",{attrs:{url:t,title:"Fixed layout",current:r},nativeOn:{click:function(e){return n.apply(null,arguments)}}})]}}])})],1)],1)],1)}),[],!1,null,"5f5c5e52",null);t.default=component.exports;installComponents(component,{CloSectionMenuItem:o(487).default,CloSectionMenuSection:o(488).default,CloSectionMenu:o(489).default})},533:function(e,t,o){var content=o(582);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(14).default)("bb215908",content,!0,{sourceMap:!1})},581:function(e,t,o){"use strict";o(533)},582:function(e,t,o){var n=o(13)(!1);n.push([e.i,"@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}#map-2{width:1000px;height:800px;background:purple}.mapboxgl-ctrl-group button{color:#000}button{border:1px solid #000;padding:.5rem}button:disabled{border-color:#7f828b;color:#7f828b}.alert{background:red}",""]),e.exports=n},631:function(e,t,o){var content=o(781);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(14).default)("95868f56",content,!0,{sourceMap:!1})},727:function(e,t,o){"use strict";o.r(t);var n=o(0).a.extend({}),r=o(2),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CloToolbar",{attrs:{reverse:"",color:"primary"}},[o("CloToolbarGroup",[o("CloHeading",{attrs:{level:"1",size:"3",reverse:"",utilityClasses:"u-margin-none u-inset-md"}},[e._v("Page Heading")])],1),e._v(" "),o("CloToolbarGroup",[o("CloToolbarItem",{attrs:{label:"Filter",icon:"filter",dropdown:"",id:"changeRegion"}},[e._v("Filters")])],1),e._v(" "),o("CloToolbarGroup",{attrs:{align:"right"}},[o("CloToolbarItem",{attrs:{label:e.$t("generic.Previous"),href:"prev",previous:"",divider:""}}),e._v(" "),o("CloToolbarItem",{attrs:{label:e.$t("generic.Next"),href:"next",next:""}})],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{CloHeading:o(158).default,CloToolbarGroup:o(490).default,CloToolbarItem:o(491).default,CloToolbar:o(522).default})},728:function(e,t,o){"use strict";o.r(t);var n=o(162),r=(o(41),o(55),o(56),o(36),o(45),o(31),o(11),o(632),o(633),o(634),o(635),o(636),o(637),o(638),o(639),o(640),o(641),o(642),o(643),o(644),o(645),o(646),o(647),o(648),o(29),o(232),o(0)),l=o(649),c=o(650),d=o.n(c),f=o(580),h=o(651),m=o.n(h),y=(o(653),o(654)),v=o.n(y),x=r.a.extend({data:function(){return{map:void 0,coords:{lng:-96.35,lat:37},selectMode:!1,rangeOnly:!1,resolution:3,draw:void 0,filtered:[],children:[]}},watch:{rangeOnly:function(){}},mounted:function(){var e=this;l.accessToken="pk.eyJ1IjoibGF1cmVub2xkaGFtMTIwMiIsImEiOiJjaW55dm52N2gxODJrdWtseWZ5czAyZmp5In0.YkEUt6GvIDujjudu187eyA",this.map=new l.Map({container:"map-2",style:"mapbox://styles/mapbox/streets-v11",center:this.coords,zoom:6,doubleClickZoom:!1}),this.draw=new m.a({displayControlsDefault:!1,controls:{polygon:!0,trash:!0},modes:Object.assign(m.a.modes,{draw_polygon:v.a})}),this.map.addControl(this.draw,"top-left"),this.map.addControl(new l.ScaleControl({maxWidth:900})),this.map.on("load",(function(){e.map.addSource("base-hex",{type:"vector",promoteId:"h3_address",tiles:["http://localhost:8081/data/r3/{z}/{x}/{y}.pbf"],maxzoom:4}),e.map.addLayer({id:"base-hex",source:"base-hex","source-layer":"hex",type:"fill",paint:{"fill-color":["case",["boolean",["feature-state","selected"],!1],"deeppink","black"],"fill-opacity":.3}}),e.map.addSource("children",{type:"geojson",data:{type:"FeatureCollection",features:[]},promoteId:"h3_address"}),e.map.addLayer({id:"children",source:"children",type:"fill",paint:{"fill-opacity":.3,"fill-color":["case",["boolean",["feature-state","selected"],!1],"deeppink","black"]},layout:{"fill-sort-key":["+",["get","h3_address"]]}}),e.map.addSource("species-range",{type:"vector",tiles:["http://localhost:8082/data/range-outline-max-6/{z}/{x}/{y}.pbf"],maxzoom:7,promoteId:"h3_address"}),e.map.addLayer({id:"species-range",source:"species-range","source-layer":"hex",type:"fill",paint:{"fill-color":["case",["boolean",["feature-state","selected"],!0],"deeppink","transparent"],"fill-opacity":.3}}),e.map.on("contextmenu",(function(t){var o=e.map.queryRenderedFeatures(t.point,{layers:["children"]})[0];if(o){var r=parseInt(o.id[1])-1,l=f.h3ToParent(o.id,r);e.arrayIncludesItem(e.filtered,l)&&e.removeItemFromArray(e.filtered,l);var c=3===r?"base-hex":o.source;e.filterOutParentHexes(c);var d=[];[3,4,5,6].forEach((function(e){e>=r+1&&d.push.apply(d,Object(n.a)(f.h3ToChildren(l,e)))})),d.forEach((function(t){e.children.includes(t)&&e.removeItemFromArray(e.children,t)})),e.setChildFeatures()}})),e.map.on("click",["base-hex","children","species-range"],(function(t){if(t.features.map((function(e){return e.layer.id})).includes("species-range"));else{var o=t.features[0],r=parseInt(o.id[1])+1;if(!e.selectMode&&r<=6){var l,c=f.h3ToChildren(o.id,r);(l=e.children).push.apply(l,Object(n.a)(c)),e.setChildFeatures(),e.filtered.push(o.id),c.forEach((function(t){e.filtered.includes(t)&&e.removeItemFromArray(e.filtered,t)}));["base-hex","children"].forEach((function(t){e.filterOutParentHexes(t)}))}}}));var t=new l.Popup({closeButton:!1});e.map.on("mousemove",["base-hex","children"],(function(o){t.setHTML(o.features[0].id).setLngLat(o.lngLat).addTo(e.map)}))}))},methods:{uniqueValues:function(e){return Array.from(new Set(e))},setChildFeatures:function(){this.children=this.uniqueValues(this.children);var e=d.a.h3SetToFeatureCollection(this.children,(function(e){return{h3_address:e}}));this.map.getSource("children").setData(e)},filterOutParentHexes:function(e){this.map.setFilter(e,this.filtered.length?["match",["get","h3_address"],this.filtered,!1,!0]:null)},removeItemFromArray:function(e,t){e.splice(e.indexOf(t),1)},arrayIncludesItem:function(e,t){return e.includes(t)}}}),k=(o(581),o(2)),component=Object(k.a)(x,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",[o("button",{on:{click:function(t){e.selectMode=!e.selectMode}}},[e._v("Selection mode: "+e._s(e.selectMode))]),e._v(" "),o("button",{on:{click:function(t){e.rangeOnly=!e.rangeOnly}}},[e._v("show new range only: "+e._s(e.rangeOnly))]),e._v(" "),o("div",{attrs:{id:"map-2"}})])}),[],!1,null,null,null);t.default=component.exports},780:function(e,t,o){"use strict";o(631)},781:function(e,t,o){var n=o(13)(!1);n.push([e.i,"@-webkit-keyframes pulse-data-v-201a96ed{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse-data-v-201a96ed{0%,to{opacity:1}50%{opacity:.5}}.sidebar[data-v-201a96ed]{background-color:#f8f8f8;height:100%}",""]),e.exports=n},990:function(e,t,o){"use strict";o.r(t);var n=o(0).a.extend({name:"fixed",layout:"fixed"}),r=(o(780),o(2)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CloFixedPanels",{attrs:{showText:e.$t("app.showOptions"),hideText:e.$t("app.hideOptions")},scopedSlots:e._u([{key:"header",fn:function(){return[o("CloSkipTo",{attrs:{links:[{href:"#content",label:e.$t("generic.skipToContent")}]}}),e._v(" "),o("TheHeader"),e._v(" "),o("TheToolbar",{attrs:{id:"content"}})]},proxy:!0},{key:"mainContent",fn:function(){return[o("div",{staticClass:"u-inset-md"},[o("MapCleaned")],1)]},proxy:!0},{key:"mainSubBody",fn:function(){return[o("div",{staticClass:"sidebar"},[o("TheSidebar")],1)]},proxy:!0},{key:"footer",fn:function(){return[o("TheFooter")]},proxy:!0}])})}),[],!1,null,"201a96ed",null);t.default=component.exports;installComponents(component,{CloSkipTo:o(242).default,TheHeader:o(243).default,TheToolbar:o(727).default,MapCleaned:o(728).default,TheSidebar:o(501).default,TheFooter:o(244).default,CloFixedPanels:o(729).default})}}]);